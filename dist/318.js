"use strict";(self.webpackChunkhiring_app=self.webpackChunkhiring_app||[]).push([[318],{6202:(e,t,o)=>{o.d(t,{Z:()=>f});var a=o(1670),r=o.n(a),n=o(1441),i=o.n(n),s=o(7194),l=o.n(s),c=new URL(o(1696),o.b),d=new URL(o(2552),o.b),p=i()(r());p.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&display=swap);"]);var h=l()(c),u=l()(d);p.push([e.id,'body{background-color:#f6f8fa;font-family:"Open Sans",sans-serif}.border-primary,.filter-chkbox{border-color:#e1e4e8}.border-green{border-color:#28a745}.text-gray-dark{color:#24292e}.text-gray-light{color:#6a737d}.bg-gray-dark{background-color:#24292e}.bg-gray-light,.sidemenu-dropdown-container{background-color:#fafbfc}.popup-bg{background:rgba(0,0,0,.2)}.bg-primary{background-color:#6f42c1}.bg-primary.bg-primary-hover:hover{background-color:#4c2888}.bg-green{background-color:#28a745}.text-purple{color:#6f42c1}.text-blue{color:#0366d6}.error-msg-bg{background-color:#ffdce0}.error-msg-border{border-color:#d73a49}.has-error{border-color:#d73a49}input:focus{border:1px solid #6f42c1;box-shadow:0px 0px 0px 3px #e6dcfd}.textarea-primary:focus{border:1px solid #6f42c1;box-shadow:0px 0px 0px 3px #e6dcfd}.textarea-primary::-webkit-scrollbar{width:5px}.textarea-primary::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.textarea-primary::-webkit-scrollbar-thumb{background:#d1d5da;border-radius:24px}.textarea-primary::-webkit-scrollbar-thumb:hover{background:#bcbdbe}.focus-shadow-none:focus{box-shadow:none}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.fadeIn{-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:fadeIn;animation-name:fadeIn}.fadeIn.delay-3{animation-delay:300ms}@keyframes fadeOut{from{opacity:1}to{opacity:0;visibility:hidden}}.fadeOut{-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:fadeOut;animation-name:fadeOut}.clearfix:after{content:"";width:100%;height:0px;display:block;visibility:hidden;clear:both}input.peer:checked+.filter-chkbox{background:url('+h+") no-repeat center center #6f42c1}.search-input{background:url("+u+") no-repeat left 8px center #fff}.scroll-bar-hide::-webkit-scrollbar{width:0px;height:0px}",""]);const f=p},2552:(e,t,o)=>{e.exports=o.p+"ca213e288cb951e290ff.svg"},1696:(e,t,o)=>{e.exports=o.p+"fc6dcea20f8394bf514d.svg"},1776:(e,t,o)=>{o.r(t);var a=o(2950),r=o(2803);const n=()=>{const e=(0,a.lazy)((()=>o.e(401).then(o.bind(o,2401))));return a.createElement(a.Suspense,{fallback:""},a.createElement(r.rs,null,a.createElement(r.AW,{path:"/",component:e,exact:!0}),a.createElement(r.AW,{path:"/candidates",component:e})))};var i=o(7597),s=o(9587);const l=window.location.origin.includes("localhost")?window.location.origin:`${window.location.origin}/container`;let c=null;const d=function(){return s.parseUrl(window.location.href).query.code},p=new class{constructor(){d()||this.initRefreshCycle()}t;rt;te;sendRefreshBefore=1e4;timeoutHandle;setToken(e){this.t=e,localStorage.setItem("_ab_t",e)}initRefreshCycle(){clearTimeout(this.timeoutHandle);let e=this.getExpiry();if(console.log("expires in = ",e),!e)return!1;e*=1e3;let t=e-(new Date).getTime();if(!t||t<this.sendRefreshBefore||isNaN(t))return t||console.log("!timer"),t<this.sendRefreshBefore&&console.log("less than",this.sendRefreshBefore),isNaN(t)&&console.log("isNan"),console.log("invalid expiry time ",(new Date).getTime(),e,t),null;t=parseInt(t)-this.sendRefreshBefore,console.log("valid expiry time ",(new Date).getTime(),e,t),this.timeoutHandle=setTimeout((()=>{h()}),t)}setExpiry(e){this.te=e,localStorage.setItem("_ab_t_e",e)}getExpiry(){return this.te||localStorage.getItem("_ab_t_e")}removeToken(e){this.t=e,localStorage.removeItem("_ab_t")}setRefreshToken(e){this.rt=e,localStorage.setItem("_ab_rt",e)}removeRefreshToken(e){this.rt=e,localStorage.removeItem("_ab_rt")}getToken(){return this.t||localStorage.getItem("_ab_t")}getRefreshToken(){return this.rt||localStorage.getItem("_ab_rt")}clearTokens(){this.removeRefreshToken(),this.removeToken()}},h=async()=>{console.log("calling refresh access token");try{const e=await fetch("https://shield-dev.appblox.io/refresh-token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.getToken()} ${p.getRefreshToken()}`}}),t=await e.json();t&&t.data.AccessToken?(console.log("data is ",t.data),p.setToken(t.data.AccessToken),p.setExpiry(t.data.AtExpires),p.setRefreshToken(t.data.RefreshToken),p.initRefreshCycle()):401===t.status&&(console.log("expired token"),p.clearTokens(),await u())}catch(e){console.log("error in refreshing = ",e)}},u=async()=>{if(p.getToken()){const e=await f();if(!e){const e=m();window.location=e}return e}{const e=m();window.location=e}},f=async()=>{try{const e=await fetch("https://shield-dev.appblox.io/validate-appblox-acess-token",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.getToken()}`}}),t=await e.json();return t.data&&"valid"===t.data}catch(e){console.log(e)}},m=()=>{const e={response_type:"code",scope:"user private_repo",redirect_uri:l,client_id:c,state:"state123"};return`https://shield-dev.appblox.io/login?${s.stringify(e)}`},g={init:async function(e){c=e;const t=d();if(t){const e=await async function(e){const t=`https://shield-dev.appblox.io/auth/get-token?grant_type=authorization_code&code=${e}&redirect_uri=${l}`;try{const e=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}),o=await e.json();return location.href.includes("?")&&history.pushState({},null,location.href.split("?")[0]),console.log("ðŸš€  file: index.js  line 50  sendCodeToServer  data",o),o}catch(e){console.log(e)}}(t);e.success&&e.data&&(p.setToken(e.data.ab_at),p.setExpiry(e.data.expires_in),p.setRefreshToken(e.data.ab_rt),p.initRefreshCycle())}},verifyLogin:u,tokenStore:p,getAuthUrl:m,logout:async()=>{await(async()=>{try{const e=await fetch("https://shield-dev.appblox.io/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.getToken()}`}});return await e.json()}catch(e){console.log(e)}})(),p.removeRefreshToken(),p.removeToken(),await u()}};var b=o(3278),y=o.n(b),k=o(8391),w=o.n(k),x=o(547),T=o.n(x),v=o(5604),_=o.n(v),E=o(2593),R=o.n(E),S=o(7784),I=o.n(S),A=o(6202),C={};C.styleTagTransform=I(),C.setAttributes=_(),C.insert=T().bind(null,"head"),C.domAPI=w(),C.insertStyleElement=R(),y()(A.Z,C),A.Z&&A.Z.locals&&A.Z.locals;var j=o(8547);const B=()=>{const[e,t]=(0,a.useState)(void 0),[o,r]=a.useState(!1),{Component:s,errorLoading:l}=(g.getAuthUrl(),(0,i.DS)(e?.url,e?.scope,e?.module,a));return(0,a.useEffect)((async()=>{await g.init("pRntLlwaYV2OuN_1Kc3Ua-6255");const e=await g.verifyLogin();r(e),e&&t({module:"./layout",scope:"layout",url:`${j.BLOX_ENV_URL_layout}/remoteEntry.js`})}),[]),a.createElement(a.Suspense,{fallback:""},a.createElement("div",{className:"App"},o?a.createElement("div",null,l?`Error loading module "${module}"`:s&&a.createElement(s,null,a.createElement(n,null))):a.createElement("div",null,"Loading")))};var O=o(5202),$=o(151);O.render(a.createElement($.VK,null,a.createElement(B,null)),document.getElementById("root"))}}]);